<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WooCommerce Orders - Missive Integration</title>
    <link rel="stylesheet" href="https://integrations.missiveapp.com/missive.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- Loading State -->
        <div id="loading" class="loading-container">
            <div class="loading-spinner"></div>
            <p>Loading customer orders...</p>
        </div>

        <!-- Error State -->
        <div id="error" class="error-container" style="display: none;">
            <div class="error-icon">‚ö†Ô∏è</div>
            <p id="error-message">Unable to load customer orders</p>
            <button id="retry-btn" class="retry-button">Retry</button>
        </div>

        <!-- No Email State -->
        <div id="no-email" class="info-container" style="display: none;">
            <div class="info-icon">üìß</div>
            <p>No customer email found in this conversation</p>
        </div>

        <!-- Configuration Required State -->
        <div id="config-required" class="info-container" style="display: none;">
            <div class="info-icon">‚öôÔ∏è</div>
            <p>WooCommerce configuration required</p>
            <small>Please configure your WooCommerce API settings</small>
        </div>

        <!-- Orders List -->
        <div id="orders-container" style="display: none;">
            <div class="header">
                <h3 id="customer-info">Customer Orders</h3>
                <div id="order-count" class="order-count"></div>
            </div>
            <div id="orders-list" class="orders-list"></div>
        </div>

        <!-- Order Details Modal -->
        <div id="order-details" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 id="order-details-title">Order Details</h4>
                    <button id="close-details" class="close-button">&times;</button>
                </div>
                <div id="order-details-content" class="modal-body">
                    <!-- Order details will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <script src="https://integrations.missiveapp.com/missive.js"></script>
    <script src="app.js"></script>
</body>
</html>